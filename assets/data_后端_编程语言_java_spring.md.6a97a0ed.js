import{_ as s,o as a,c as n,X as l}from"./chunks/framework.9bc23fa4.js";const p="/learning-document-v3/assets/image12.7bcc17d8.png",o="/learning-document-v3/assets/image19.523d1972.png",e="/learning-document-v3/assets/image.a75d7c11.png",t="/learning-document-v3/assets/image2.51a59601.png",r="/learning-document-v3/assets/image18.b73afdbd.png",b=JSON.parse('{"title":"全家桶","description":"","frontmatter":{},"headers":[],"relativePath":"data/后端/编程语言/java/spring.md","filePath":"data/后端/编程语言/java/spring.md","lastUpdated":1720420715000}'),c={name:"data/后端/编程语言/java/spring.md"},C=l('<h1 id="全家桶" tabindex="-1">全家桶 <a class="header-anchor" href="#全家桶" aria-label="Permalink to &quot;全家桶&quot;">​</a></h1><h2 id="spring" tabindex="-1">spring <a class="header-anchor" href="#spring" aria-label="Permalink to &quot;spring&quot;">​</a></h2><h3 id="ioc" tabindex="-1">IOC <a class="header-anchor" href="#ioc" aria-label="Permalink to &quot;IOC&quot;">​</a></h3><p>控制反转(inversion of control),创建对象的控制权反转到spring框架上<br> 主要实现方式</p><blockquote><p>依赖查找<br> 依赖注入 DI(dependency injection)</p></blockquote><p>IOC容器</p><blockquote><p>具有依赖注入功能的容器，可以创建对象的容器，IOC容器负责实例化、定位、配置应用程序中的对象并建立这些对象之间的依赖</p></blockquote><h3 id="aop" tabindex="-1">AOP <a class="header-anchor" href="#aop" aria-label="Permalink to &quot;AOP&quot;">​</a></h3><p>面向切面编程</p><h3 id="spi" tabindex="-1">SPI <a class="header-anchor" href="#spi" aria-label="Permalink to &quot;SPI&quot;">​</a></h3><p>SPI(Service Provider Interface)是JDK内置的一种服务提供发现机制，可以用来启用框架扩展和替换组件,主要用于框架中开发，例如Dubbo、Spring、Common-Logging，JDBC等采用采用SPI机制，针对同一接口采用不同的实现提供给不同的用户，从而提高了框架的扩展性。</p><p>Java内置的SPI通过java.util.ServiceLoader类解析classPath和jar包的META-INF/services/目录 下的以接口全限定名命名的文件，并加载该文件中指定的接口实现类，以此完成调用。</p><p>Spring SPI沿用了Java SPI的设计思想，Spring采用的是spring.factories方式实现SPI机制，可以在不修改Spring源码的前提下，提供Spring框架的扩展性。</p><p>参考文档 <a href="https://juejin.cn/post/7132742686099898398" target="_blank" rel="noreferrer">https://juejin.cn/post/7132742686099898398</a></p><h3 id="事务" tabindex="-1">事务 <a class="header-anchor" href="#事务" aria-label="Permalink to &quot;事务&quot;">​</a></h3><h4 id="acid特性" tabindex="-1">ACID特性 <a class="header-anchor" href="#acid特性" aria-label="Permalink to &quot;ACID特性&quot;">​</a></h4><blockquote><h5 id="原子性-atomicity" tabindex="-1">原子性 (Atomicity） <a class="header-anchor" href="#原子性-atomicity" aria-label="Permalink to &quot;原子性 (Atomicity）&quot;">​</a></h5><p>一个事务内涉及到分布式多个节点的所有操作要么一起成功，要么一起失败。</p><h5 id="一致性-consistency" tabindex="-1">一致性 (Consistency) <a class="header-anchor" href="#一致性-consistency" aria-label="Permalink to &quot;一致性 (Consistency)&quot;">​</a></h5><p>(事务结果要和真实结果一致)<br> 跨节点场景下也不能出现中间状态。上面转账的例子中，A和B的数据可能不在一个节点上，转账的全程依然要保持A+B都为100块，不存在其他的结果。</p><h5 id="隔离性-isolation" tabindex="-1">隔离性（Isolation） <a class="header-anchor" href="#隔离性-isolation" aria-label="Permalink to &quot;隔离性（Isolation）&quot;">​</a></h5><p>多个事务并发执行时，互相隔离，互不干扰</p><h5 id="持久性-durability" tabindex="-1">持久性 (Durability) <a class="header-anchor" href="#持久性-durability" aria-label="Permalink to &quot;持久性 (Durability)&quot;">​</a></h5><p>事务提交完成后的数据不仅要在当前节点保存，还应该在分布式场景下有备份，具备高可用性。</p></blockquote><h4 id="隔离级别" tabindex="-1">隔离级别 <a class="header-anchor" href="#隔离级别" aria-label="Permalink to &quot;隔离级别&quot;">​</a></h4><blockquote><p>todo</p></blockquote><h4 id="参考文档" tabindex="-1">参考文档 <a class="header-anchor" href="#参考文档" aria-label="Permalink to &quot;参考文档&quot;">​</a></h4><p><a href="https://juejin.cn/post/7237439385909592122#heading-11" target="_blank" rel="noreferrer">https://juejin.cn/post/7237439385909592122#heading-11</a></p><h2 id="springmvc" tabindex="-1">springmvc <a class="header-anchor" href="#springmvc" aria-label="Permalink to &quot;springmvc&quot;">​</a></h2><h3 id="mvc" tabindex="-1">MVC <a class="header-anchor" href="#mvc" aria-label="Permalink to &quot;MVC&quot;">​</a></h3><p>1.模型(Model)</p><p>模型封装了数据及对数据的操作，可以直接对数据库进行访问，不依赖视图和控制器，也就是说模型并不关注数据如何展示，只负责提供数据。GUI 程序模型中数据的变化一般会通过观察者模式通知视图，而在 web 中则不会这样。</p><p>2.视图(View)</p><p>视图从模型中拉取数据，只负责展示，没有具体的程序逻辑。</p><p>3.控制器(Controller)</p><p>控制器用于控制程序的流程，将模型中的数据展示到视图中。</p><h3 id="五大核心组件" tabindex="-1">五大核心组件 <a class="header-anchor" href="#五大核心组件" aria-label="Permalink to &quot;五大核心组件&quot;">​</a></h3><p>1.前端控制器 DispatcherServlet DispatcherServlet本质上是一个Servlet，相当于一个中转站，所有的访问都会走到这个Servlet中，再根据配置进行中转到相应的Handler中进行处理,获取到数据和视图后，在使用相应视图做出响应。</p><p>2.处理器映射器 HandlerMapping HandlerMapping本质上就是一段映射关系，将访问路径和对应的Handler存储为映射关系，在需要时供前端控制器查阅。</p><p>3.处理器适配器 HandlerAdapter 本质上是一个适配器，可以根据要求找到对应的Handler来运行。</p><p>由于 Handler 涉及到具体的用户业务请求，所以一般情况需要工程师根据业务需求开发 Handler。</p><p>4.视图解析器(ViewResolver) 本质上也是一种映射关系，可以将视图名称映射到真正的视图地址。前端控制器调用处理器适配完成后得到model和view，将view信息传给视图解析器得到真正的view。</p><p>5.视图渲染(View) View是一个接口，实现类支持不同的View类型（jsp、freemarker、pdf...）。 本质上就是将handler处理器中返回的model数据嵌入到视图解析器解析后得到的页面中，向客户端做出响应。</p><p><img src="'+p+'" alt="image"></p><p>DispatcherServlet 控制器入口 负责分发请求<br> HandlerMapping 负责根据请求 找到对应的控制器<br> Controller 真正处理请求的控制器<br> ModelAndView 封装数据信息和视图信息的<br> ViewResolver 视图处理器 通过处理找到对应的页面</p><h2 id="springboot" tabindex="-1">springboot <a class="header-anchor" href="#springboot" aria-label="Permalink to &quot;springboot&quot;">​</a></h2><p>快速创建springboot项目可以使用Spring Initializr<br><a href="https://start.spring.io/" target="_blank" rel="noreferrer">https://start.spring.io/</a>;</p><h3 id="核心原理" tabindex="-1">核心原理 <a class="header-anchor" href="#核心原理" aria-label="Permalink to &quot;核心原理&quot;">​</a></h3><p>约定大于配置<br> 内嵌Tomcat或Jetty等Servlet容器<br> 通过maven依赖快速整合第三方框架</p><h3 id="底层原理" tabindex="-1">底层原理 <a class="header-anchor" href="#底层原理" aria-label="Permalink to &quot;底层原理&quot;">​</a></h3><h4 id="启动原理" tabindex="-1">启动原理 <a class="header-anchor" href="#启动原理" aria-label="Permalink to &quot;启动原理&quot;">​</a></h4><h4 id="自动装配原理" tabindex="-1">自动装配原理 <a class="header-anchor" href="#自动装配原理" aria-label="Permalink to &quot;自动装配原理&quot;">​</a></h4><p>SpringBoot项目中 <strong>@SpringBootApplication</strong>组合注解，这个注解是对三个注解进行了封装： <strong>@SpringBootConfiguration</strong><br><strong>@EnableAutoConfiguration</strong><br><strong>@ComponentScan</strong></p><p><strong>@EnableAutoConfiguration</strong> 主要负责自动装配功能</p><blockquote><p>1.这个注解引入了@Import<br> 2.项目启动加载IOC容器时，会解析@Import注解<br> 3.@Import导入了一个deferredImportSelector导入器<br> 4.然后读取所有的 META-INF/spring.factories文件<br> 5.过滤出所有AutoConfigurtionClass类型(符合自动装配条件)的类<br> 6.通过@Condition排除无效自动配置类<br> 7.最后将过滤出的类导入spring容器中</p></blockquote><p><strong>@ComponentScan</strong>这个注解在Spring中很重要，它对应XML配置中的元素，@ComponentScan的功能其实就是自动扫描并加载符合条件的组件（比如@Component和@Repository等）或者bean定义，最终将这些加载到IoC容器中。</p><h4 id="配置底层environment类" tabindex="-1">配置底层Environment类 <a class="header-anchor" href="#配置底层environment类" aria-label="Permalink to &quot;配置底层Environment类&quot;">​</a></h4><p>SpringBoot扩展点EnvironmentPostProcessor分析</p><p>参考文档 <a href="https://zhuanlan.zhihu.com/p/504688075" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/504688075</a></p><p><img src="'+o+'" alt="image"></p><h2 id="spingcloud" tabindex="-1">spingcloud <a class="header-anchor" href="#spingcloud" aria-label="Permalink to &quot;spingcloud&quot;">​</a></h2><p><img src="'+e+'" alt="image"><img src="'+t+'" alt="image"></p><p>参考资料</p><p><a href="https://blog.csdn.net/mkmkmkhh/article/details/101996991?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242" target="_blank" rel="noreferrer">https://blog.csdn.net/mkmkmkhh/article/details/101996991?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242</a></p><h3 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h3><h4 id="spring-cloud-security" tabindex="-1">Spring Cloud Security <a class="header-anchor" href="#spring-cloud-security" aria-label="Permalink to &quot;Spring Cloud Security&quot;">​</a></h4><h4 id="eureka-停更" tabindex="-1">Eureka(停更) <a class="header-anchor" href="#eureka-停更" aria-label="Permalink to &quot;Eureka(停更)&quot;">​</a></h4><p>服务注册中心</p><h4 id="hystrix" tabindex="-1">Hystrix <a class="header-anchor" href="#hystrix" aria-label="Permalink to &quot;Hystrix&quot;">​</a></h4><p>1,服务降级<br> 比如当某个服务繁忙,不能让客户端的请求一直等待,应该立刻返回给客户端一个备选方案<br> 2,服务熔断<br> 当某个服务出现问题,卡死了,不能让用户一直等待,需要关闭所有对此服务的访问然后调用服务降级<br> 3,服务限流<br> 限流,比如秒杀场景,不能访问用户瞬间都访问服务器,限制一次只可以有多少请求</p><h4 id="zuul" tabindex="-1">Zuul <a class="header-anchor" href="#zuul" aria-label="Permalink to &quot;Zuul&quot;">​</a></h4><h4 id="ribbon" tabindex="-1">Ribbon <a class="header-anchor" href="#ribbon" aria-label="Permalink to &quot;Ribbon&quot;">​</a></h4><p>可以用LoadBalance代替</p><h4 id="feign" tabindex="-1">Feign <a class="header-anchor" href="#feign" aria-label="Permalink to &quot;Feign&quot;">​</a></h4><p>现在用openFeign OpenFeign默认使用ribbon做负载均衡，超时时间是由ribbon控制</p><h4 id="spring-cloud-alibaba" tabindex="-1">spring Cloud Alibaba <a class="header-anchor" href="#spring-cloud-alibaba" aria-label="Permalink to &quot;spring Cloud Alibaba&quot;">​</a></h4><p>包含nacos</p><h4 id="spring-cloud-zookeeper" tabindex="-1">Spring Cloud Zookeeper <a class="header-anchor" href="#spring-cloud-zookeeper" aria-label="Permalink to &quot;Spring Cloud Zookeeper&quot;">​</a></h4><h4 id="spring-cloud-config" tabindex="-1">Spring Cloud Config <a class="header-anchor" href="#spring-cloud-config" aria-label="Permalink to &quot;Spring Cloud Config&quot;">​</a></h4><h4 id="spring-cloud-bus" tabindex="-1">Spring Cloud Bus <a class="header-anchor" href="#spring-cloud-bus" aria-label="Permalink to &quot;Spring Cloud Bus&quot;">​</a></h4><h4 id="archaius" tabindex="-1">Archaius <a class="header-anchor" href="#archaius" aria-label="Permalink to &quot;Archaius&quot;">​</a></h4><h4 id="consul" tabindex="-1">Consul <a class="header-anchor" href="#consul" aria-label="Permalink to &quot;Consul&quot;">​</a></h4><h4 id="spring-cloud-for-cloud-foundry" tabindex="-1">Spring Cloud for Cloud Foundry <a class="header-anchor" href="#spring-cloud-for-cloud-foundry" aria-label="Permalink to &quot;Spring Cloud for Cloud Foundry&quot;">​</a></h4><h4 id="spring-cloud-sleuth" tabindex="-1">Spring Cloud Sleuth <a class="header-anchor" href="#spring-cloud-sleuth" aria-label="Permalink to &quot;Spring Cloud Sleuth&quot;">​</a></h4><h4 id="spring-cloud-data-flow" tabindex="-1">Spring Cloud Data Flow <a class="header-anchor" href="#spring-cloud-data-flow" aria-label="Permalink to &quot;Spring Cloud Data Flow&quot;">​</a></h4><h4 id="spring-cloud-stream" tabindex="-1">Spring Cloud Stream <a class="header-anchor" href="#spring-cloud-stream" aria-label="Permalink to &quot;Spring Cloud Stream&quot;">​</a></h4><h4 id="spring-cloud-cli" tabindex="-1">Spring Cloud CLI <a class="header-anchor" href="#spring-cloud-cli" aria-label="Permalink to &quot;Spring Cloud CLI&quot;">​</a></h4><h4 id="turbine" tabindex="-1">Turbine <a class="header-anchor" href="#turbine" aria-label="Permalink to &quot;Turbine&quot;">​</a></h4><h4 id="spring-cloud-task" tabindex="-1">Spring Cloud Task <a class="header-anchor" href="#spring-cloud-task" aria-label="Permalink to &quot;Spring Cloud Task&quot;">​</a></h4><h4 id="spring-cloud-connectors" tabindex="-1">Spring Cloud Connectors <a class="header-anchor" href="#spring-cloud-connectors" aria-label="Permalink to &quot;Spring Cloud Connectors&quot;">​</a></h4><h4 id="spring-cloud-cluster" tabindex="-1">Spring Cloud Cluster <a class="header-anchor" href="#spring-cloud-cluster" aria-label="Permalink to &quot;Spring Cloud Cluster&quot;">​</a></h4><h4 id="spring-cloud-starters" tabindex="-1">Spring Cloud Starters <a class="header-anchor" href="#spring-cloud-starters" aria-label="Permalink to &quot;Spring Cloud Starters&quot;">​</a></h4><h3 id="事务传播机制" tabindex="-1">事务传播机制 <a class="header-anchor" href="#事务传播机制" aria-label="Permalink to &quot;事务传播机制&quot;">​</a></h3><h2 id="spring-batch" tabindex="-1">spring-batch <a class="header-anchor" href="#spring-batch" aria-label="Permalink to &quot;spring-batch&quot;">​</a></h2><p>轻量级的综合批处理框架<br><a href="https://springdoc.cn/spring-batch/" target="_blank" rel="noreferrer">https://springdoc.cn/spring-batch/</a></p><p>使用时候要新建表 和初始化数据<br> 初始化数据</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> BATCH_STEP_EXECUTION_SEQ (ID, UNIQUE_KEY) </span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">*</span></span>\n<span class="line"><span style="color:#F78C6C;">FROM</span></span>\n<span class="line"><span style="color:#A6ACCD;">	(</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> ID,</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> UNIQUE_KEY</span></span>\n<span class="line"><span style="color:#A6ACCD;">	) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> tmp</span></span>\n<span class="line"><span style="color:#F78C6C;">WHERE</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">NOT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">EXISTS</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">*</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">FROM</span></span>\n<span class="line"><span style="color:#A6ACCD;">			BATCH_STEP_EXECUTION_SEQ</span></span>\n<span class="line"><span style="color:#A6ACCD;">	);</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> BATCH_JOB_EXECUTION_SEQ (ID, UNIQUE_KEY) </span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">*</span></span>\n<span class="line"><span style="color:#F78C6C;">FROM</span></span>\n<span class="line"><span style="color:#A6ACCD;">	(</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> ID,</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> UNIQUE_KEY</span></span>\n<span class="line"><span style="color:#A6ACCD;">	) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> tmp</span></span>\n<span class="line"><span style="color:#F78C6C;">WHERE</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">NOT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">EXISTS</span><span style="color:#A6ACCD;"> (</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">*</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">FROM</span></span>\n<span class="line"><span style="color:#A6ACCD;">			BATCH_JOB_EXECUTION_SEQ</span></span>\n<span class="line"><span style="color:#A6ACCD;">	);</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> BATCH_JOB_SEQ (ID, UNIQUE_KEY) </span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">*</span></span>\n<span class="line"><span style="color:#F78C6C;">FROM</span></span>\n<span class="line"><span style="color:#A6ACCD;">	(</span></span>\n<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">SELECT</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> ID,</span></span>\n<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> UNIQUE_KEY</span></span>\n<span class="line"><span style="color:#A6ACCD;">	) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> tmp</span></span>\n<span class="line"><span style="color:#F78C6C;">WHERE</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">NOT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">EXISTS</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> BATCH_JOB_SEQ);</span></span></code></pre></div><p>建表语句</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_execution</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">VERSION</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">CREATE_TIME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">START_TIME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">END_TIME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STATUS</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">EXIT_CODE</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">EXIT_MESSAGE</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">LAST_UPDATED</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_CONFIGURATION_LOCATION</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INST_EXEC_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INST_EXEC_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">batch_job_instance</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_execution_context</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">SHORT_CONTEXT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">SERIALIZED_CONTEXT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">text</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXEC_CTX_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">batch_job_execution</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_execution_params</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">TYPE_CD</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">KEY_NAME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STRING_VAL</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">250</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">DATE_VAL</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">LONG_VAL</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">DOUBLE_VAL</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> DOUBLE </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">IDENTIFYING</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">CHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXEC_PARAMS_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXEC_PARAMS_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">batch_job_execution</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_execution_seq</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">CHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">UNIQUE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY_UN</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_instance</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">VERSION</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_NAME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">32</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INSTANCE_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">UNIQUE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_INST_UN</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_NAME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_job_seq</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">CHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">UNIQUE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY_UN</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_step_execution</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">VERSION</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_NAME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">START_TIME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">END_TIME</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STATUS</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">COMMIT_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">READ_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">FILTER_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">WRITE_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">READ_SKIP_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">WRITE_SKIP_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">PROCESS_SKIP_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">ROLLBACK_COUNT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">EXIT_CODE</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">EXIT_MESSAGE</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">LAST_UPDATED</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">datetime</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXEC_STEP_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXEC_STEP_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">batch_job_execution</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">JOB_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_step_execution_context</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">SHORT_CONTEXT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">2500</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">SERIALIZED_CONTEXT</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">text</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#C792EA;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXEC_CTX_FK</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">batch_step_execution</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">STEP_EXECUTION_ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> `</span><span style="color:#82AAFF;">batch_step_execution_seq</span><span style="color:#A6ACCD;">` (</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BIGINT</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">CHAR</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">UNIQUE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY_UN</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">UNIQUE_KEY</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">) ENGINE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INNODB </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> CHARSET </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> utf8;</span></span></code></pre></div><p><a href="https://blog.csdn.net/creepbiaozi/article/details/100154145" target="_blank" rel="noreferrer">https://blog.csdn.net/creepbiaozi/article/details/100154145</a></p><h2 id="spel表达式" tabindex="-1">spel表达式 <a class="header-anchor" href="#spel表达式" aria-label="Permalink to &quot;spel表达式&quot;">​</a></h2><p>SpEL（Spring Expression Language）是 Spring 框架中的一种表达式语言，它提供了一种在运行时对对象图进行查询和操作的强大方式。SpEL可以用于访问对象的属性、调用对象的方法、进行算术和逻辑运算，以及对集合类型进行操作等</p><p>字符串</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiLog</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">taskNo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#str</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test1</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>对象</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiLog</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">taskNo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#requestDto.orderNo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DailyPowerRequestDto</span><span style="color:#A6ACCD;"> requestDto</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>静态方法</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiLog</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">taskNo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">T(com.dycjr.xiakuan.order.service.impl.DailyPowerServiceImpl).test1(#requestDto.orderNo)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DailyPowerRequestDto</span><span style="color:#A6ACCD;"> requestDto</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test1</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"><span style="color:#A6ACCD;">    System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">);</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>非静态方法</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiLog</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">taskNo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">new com.dycjr.xiakuan.order.service.impl.DailyPowerServiceImpl().test2(#requestDto.orderNo)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DailyPowerRequestDto</span><span style="color:#A6ACCD;"> requestDto</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test2</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">){</span></span>\n<span class="line"><span style="color:#A6ACCD;">	System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">);</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>枚举</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Getter</span></span>\n<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">AllArgsConstructor</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IsDeleteEnum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">    /**</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">     * 数据是否删除</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">     */</span></span>\n<span class="line"><span style="color:#A6ACCD;">    NO</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">有效</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>\n<span class="line"><span style="color:#A6ACCD;">    YES</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">已删除</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Integer</span><span style="color:#A6ACCD;"> code</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> desc</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiLog</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">taskNo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">T(com.dycjr.xiakuan.order.enums.IsDeleteEnum).NO.getCode()</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doTask</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DailyPowerRequestDto</span><span style="color:#A6ACCD;"> requestDto</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>参考文档 <a href="https://blog.csdn.net/IWinds/article/details/130990182" target="_blank" rel="noreferrer">https://blog.csdn.net/IWinds/article/details/130990182</a></p><h2 id="spring-security" tabindex="-1">spring security <a class="header-anchor" href="#spring-security" aria-label="Permalink to &quot;spring security&quot;">​</a></h2><p><img src="'+r+`" alt="alt text"></p><h2 id="spring-mongdb" tabindex="-1">spring mongdb <a class="header-anchor" href="#spring-mongdb" aria-label="Permalink to &quot;spring mongdb&quot;">​</a></h2><p>日志配置</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">springProfile</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev,test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">logger</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.tong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">level</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DEBUG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">&lt;!--打印mongo语句 下面的两个都行--&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">logger</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">org.springframework.data.mongodb.core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">level</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DEBUG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">logger</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">org.springframework.data.mongodb.core.MongoTemplate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">level</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DEBUG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">springProfile</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>打印出来的日志如下</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">13:35:41.159 DEBUG [service,ccacd130a66bf79b,ccacd130a66bf79b] 41620 --- [p-nio-81-exec-1] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;tongname&quot; : 1} fields: Document{{}} for class: class com.tong.TestDetails in collection: tongconllection</span></span></code></pre></div><h2 id="orm框架" tabindex="-1">ORM框架 <a class="header-anchor" href="#orm框架" aria-label="Permalink to &quot;ORM框架&quot;">​</a></h2><h3 id="spring-mybatis" tabindex="-1">spring-mybatis <a class="header-anchor" href="#spring-mybatis" aria-label="Permalink to &quot;spring-mybatis&quot;">​</a></h3><h3 id="spring-mybatis-plus" tabindex="-1">spring-mybatis-plus <a class="header-anchor" href="#spring-mybatis-plus" aria-label="Permalink to &quot;spring-mybatis-plus&quot;">​</a></h3><h3 id="spring-mybatis-flex" tabindex="-1">spring-mybatis-flex <a class="header-anchor" href="#spring-mybatis-flex" aria-label="Permalink to &quot;spring-mybatis-flex&quot;">​</a></h3><h3 id="jooq" tabindex="-1">jooq <a class="header-anchor" href="#jooq" aria-label="Permalink to &quot;jooq&quot;">​</a></h3>`,118),A=[C];function D(y,F,i,E,d,u){return a(),n("div",null,A)}const g=s(c,[["render",D]]);export{b as __pageData,g as default};
