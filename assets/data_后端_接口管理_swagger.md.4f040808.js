import{_ as s,o as a,c as n,X as l}from"./chunks/framework.9bc23fa4.js";const i=JSON.parse('{"title":"swagger","description":"","frontmatter":{},"headers":[],"relativePath":"data/后端/接口管理/swagger.md","filePath":"data/后端/接口管理/swagger.md","lastUpdated":1720420715000}'),p={name:"data/后端/接口管理/swagger.md"},o=l(`<h1 id="swagger" tabindex="-1">swagger <a class="header-anchor" href="#swagger" aria-label="Permalink to &quot;swagger&quot;">​</a></h1><h2 id="基础" tabindex="-1">基础 <a class="header-anchor" href="#基础" aria-label="Permalink to &quot;基础&quot;">​</a></h2><h2 id="web界面介绍" tabindex="-1">web界面介绍 <a class="header-anchor" href="#web界面介绍" aria-label="Permalink to &quot;web界面介绍&quot;">​</a></h2><h2 id="java项目使用" tabindex="-1">java项目使用 <a class="header-anchor" href="#java项目使用" aria-label="Permalink to &quot;java项目使用&quot;">​</a></h2><p>不一定按这个来，项目环境不同随机应变</p><p>导入依赖包</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">io</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">springfox</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">springfox</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">swagger2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">2.9</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">exclusions</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">exclusion</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">io</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">swagger</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">swagger</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">exclusion</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">exclusions</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">io</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">swagger</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">swagger</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">1.5</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">21</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">io</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">springfox</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">springfox</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">swagger</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ui</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">2.9</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">dependency</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>添加swagger配置类</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Configuration</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">EnableSwagger2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//@Profile(value = {&quot;local&quot;,&quot;qa&quot;, &quot;dev&quot;})</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SwaggerConfig2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Bean</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Docket</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRestApi</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Docket</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">DocumentationType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SWAGGER_2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pathMapping</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apiInfo</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">apiInfo</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">select</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">                    </span><span style="color:#676E95;font-style:italic;">// 复杂controller结构配多个</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apis</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Predicates</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">or</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">RequestHandlerSelectors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">basePackage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.ontg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> RequestHandlerSelectors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">basePackage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.tong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)))</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">paths</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">PathSelectors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">any</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">ApiInfo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">apiInfo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ApiInfoBuilder</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">title</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">接口文档</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">version</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">spring</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mvc</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pathmatch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">matching</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">strategy</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ant_path_matcher</span></span></code></pre></div>`,10),e=[o];function t(c,D,r,F,y,A){return a(),n("div",null,e)}const g=s(p,[["render",t]]);export{i as __pageData,g as default};
